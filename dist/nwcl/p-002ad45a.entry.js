import{r as t,h as s,g as i}from"./p-a84c2a87.js";import"./p-90c939fa.js";import"./p-75bc0e4e.js";import"./p-9e96164e.js";import"./p-53f148d3.js";import"./p-130f0ea0.js";import"./p-55fbfc8a.js";import"./p-db3dd3e2.js";import"./p-2b6de01b.js";import"./p-0a7ed1dd.js";import"./p-4a2417ad.js";import"./p-d6177411.js";import"./p-2015608a.js";import"./p-c131701d.js";import"./p-e2889571.js";import"./p-acf9d4a9.js";import{f as e}from"./p-bc1c7e04.js";import{o as h,s as a}from"./p-9cd879e2.js";import{I as o}from"./p-3e6e5f8d.js";const n=class{constructor(s){t(this,s),this.type="h1",this.adapted=!1,this.classNames={EL:"adaptive-text",CONTENT:"__content",VISIBLE:"--visible"},this.availableTypo=["hero","h1","h2","h3","h4","h5","h6","body-1","body-2","body-3","small"],this._observable=void 0}handleTheme(){const t=t=>{Array.from(this.el.classList).filter(t=>t.startsWith("theme--")).forEach(t=>{this.el.classList.remove(t)}),this.el.classList.add("theme--"+t)};h("theme",()=>{t(a.get("theme"))}),t(a.get("theme"))}componentDidLoad(){this.handleTheme(),this.el.setAttribute("name",this.classNames.EL),this.attachObservable()}componentDidUpdate(){!1===this.adapted&&(this.el.querySelector(`.${this.classNames.EL}${this.classNames.CONTENT}`).classList.remove(`${this.classNames.EL}${this.classNames.CONTENT}${this.classNames.VISIBLE}`),setTimeout(()=>{this.fitContent()},1))}watchContentHandler(t,s){t!==s&&(this.adapted=!1)}watchFontWeightHandler(t,s){t!==s&&(this.adapted=!1)}fitContent(){const t=this.el.getBoundingClientRect(),s=this.el.querySelector(`.${this.classNames.EL}${this.classNames.CONTENT}`);if(s.getBoundingClientRect().width>t.width){const t=e(this.availableTypo,t=>t===this.type);t+1<this.availableTypo.length?this.type=this.availableTypo[t+1]:this.adapted=!0}else this.adapted=!0;!0===this.adapted&&s.classList.add(`${this.classNames.EL}${this.classNames.CONTENT}${this.classNames.VISIBLE}`)}attachObservable(){this._observable=new o(this.el,t=>{if(!0===t){const t=this.el.getBoundingClientRect(),s=this.el.querySelector(`.${this.classNames.EL}${this.classNames.CONTENT}`);s.getBoundingClientRect().width>t.width?this.fitContent():(this.adapted=!0,s.classList.add(`${this.classNames.EL}${this.classNames.CONTENT}${this.classNames.VISIBLE}`)),this._observable.disconnectObserver()}},{threshold:.1})}render(){return(()=>{switch(this.type){case"hero":return s("eds-hero",{class:`${this.classNames.EL}${this.classNames.CONTENT}`,content:this.content,fontWeight:this.fontWeight,font:this.font,super:this.super,styles:this.styles});case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return s("eds-heading",{class:`${this.classNames.EL}${this.classNames.CONTENT}`,content:this.content,fontWeight:this.fontWeight,type:this.type,styles:this.styles});case"body-1":case"body-2":case"body-3":return s("eds-paragraph",{class:`${this.classNames.EL}${this.classNames.CONTENT}`,clampLines:this.clampLines,fontWeight:this.fontWeight,fontStyle:this.fontStyle,type:this.type,styles:this.styles,content:this.content});case"small":return s("eds-small",{class:`${this.classNames.EL}${this.classNames.CONTENT}`,content:this.content,fontWeight:this.fontWeight,fontStyle:this.fontStyle,styles:this.styles})}})()}get el(){return i(this)}static get watchers(){return{content:["watchContentHandler"],fontWeight:["watchFontWeightHandler"]}}};n.style="[name=adaptive-text]{position:relative;display:flex;width:auto;overflow:hidden;white-space:nowrap}[name=adaptive-text] .adaptive-text__content{opacity:0;transition:opacity 0 ease-in}[name=adaptive-text] .adaptive-text__content--visible{opacity:1;transition:opacity 200ms ease-in}";export{n as eds_adaptive_text}