class t{constructor(t,s,i=300){switch(this.touchstartX=0,this.touchstartY=0,this.touchendX=0,this.touchendY=0,this.treshold=0,this.allowedTouch=!1,this.delay=300,this.eventName="click",this.eventClick="click",this.eventTouchstart="touchstart",this.eventTouchend="touchend",this._clickItemHandler=void 0,this._touchstartItemHandler=void 0,this._touchendItemHandler=void 0,this.element=t,this.callback=s,this.delay=i,this.allowedTouch="ontouchstart"in window,this.allowedTouch&&(this.eventName="touchstart"),this.eventName){case"click":this.element.removeEventListener(this.eventClick,this._clickItemHandler,{passive:!1}),this.element.addEventListener(this.eventClick,this._clickItemHandler=t=>{this.callback(t)},{passive:!1});break;case"touchstart":this.element.removeEventListener(this.eventTouchstart,this._touchstartItemHandler),this.element.addEventListener(this.eventTouchstart,this._touchstartItemHandler=t=>{this.onTouchStart(t)},{passive:!0}),this.element.removeEventListener(this.eventTouchend,this._touchendItemHandler),this.element.addEventListener(this.eventTouchend,this._touchendItemHandler=t=>{this.onTouchEnd(t)},{passive:!0})}}onTouchStart(t){this.touchstartX=t.changedTouches[0].screenX,this.touchstartY=t.changedTouches[0].screenY}onTouchEnd(t){const s=window.innerWidth||document.body.clientWidth;this.treshold=Math.max(1,Math.floor(.01*s)),this.touchendX=t.changedTouches[0].screenX,this.touchendY=t.changedTouches[0].screenY;const i=this.touchendY-this.touchstartY;Math.abs(this.touchendX-this.touchstartX)<this.treshold&&Math.abs(i)<this.treshold&&setTimeout(()=>this.callback(t),this.delay)}removeEvent(){switch(this.eventName){case"click":this.element.removeEventListener(this.eventClick,this._clickItemHandler,{passive:!1});break;case"touchstart":this.element.removeEventListener(this.eventTouchstart,this._touchstartItemHandler),this.element.removeEventListener(this.eventTouchend,this._touchendItemHandler)}}}export{t as T}