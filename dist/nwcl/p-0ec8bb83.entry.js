import{r as t,h as s,g as r}from"./p-a84c2a87.js";import"./p-90c939fa.js";import{a as e}from"./p-75bc0e4e.js";import"./p-9e96164e.js";import"./p-53f148d3.js";import"./p-130f0ea0.js";import{t as o}from"./p-55fbfc8a.js";import"./p-db3dd3e2.js";import"./p-2b6de01b.js";import"./p-0a7ed1dd.js";import{s as p}from"./p-baeab690.js";import{b as l}from"./p-4a2417ad.js";import{g as c}from"./p-d6177411.js";import"./p-2015608a.js";import"./p-c131701d.js";import{c as i}from"./p-d10ba972.js";import{b as n}from"./p-e2889571.js";import"./p-acf9d4a9.js";import"./p-e51cf53b.js";import{d as a}from"./p-6e1e3935.js";import{f as m}from"./p-5f02691b.js";import{c as y}from"./p-a1c472a5.js";import{h as f}from"./p-c594624d.js";import{i as h}from"./p-264c3cc1.js";import{o as u,s as x}from"./p-9cd879e2.js";import{I as d}from"./p-3e6e5f8d.js";var j=Math.max,b=Math.min,v=y((function(t,s,r){var e=null==t?0:t.length;if(!e)return-1;var p=e-1;return void 0!==r&&(p=o(r),p=r<0?j(e+p,0):b(p,e-1)),l(t,n(s),p,!0)}));function w(t,s){return t>s}class g{constructor(t){if(t instanceof g)return t;for(const s of Object.keys(t))this[s]=t[s]}getProp(t){return c(this,t)}hasProp(t){return f(this,t)}setProp(t,s){p(this,t,s)}}const _=class{constructor(s){t(this,s),this.items=[],this.scrollspyItems=[],this.classNames={EL:"scrollspy",ITEM:"__item",ACTIVE:"--active",WATCHER:"--watcher"},this._observable=[],this.tmpcurrentItem=[],this.scrollContainer=a(()=>{this.tmpcurrentItem=[],this.watchObservable(),setTimeout(()=>{this.tmpcurrentItem=i(this.tmpcurrentItem);const t=m(this.tmpcurrentItem,t=>1===c(t,"intersectionRatio")).length>1?v(this.tmpcurrentItem,t=>1===t.intersectionRatio):(r=t=>t.intersectionRatio,(s=this.tmpcurrentItem)&&s.length?function(t,s,r){for(var o=-1,p=t.length;++o<p;){var l=t[o],c=s(l);if(null!=c&&(void 0===i?c==c&&!e(c):r(c,i)))var i=c,n=l}return n}(s,n(r),w):void 0);var s,r;this.currentItem=0===window.scrollY?0:f(t,"index")?c(t,"index"):this.currentItem},250)},1)}watchItemsHandler(t,s){h(t,s)||this.initData()}handleTheme(){const t=t=>{Array.from(this.el.classList).filter(t=>t.startsWith("theme--")).forEach(t=>{this.el.classList.remove(t)}),this.el.classList.add("theme--"+t)};u("theme",()=>{t(x.get("theme"))}),t(x.get("theme"))}componentDidLoad(){if(this.handleTheme(),this.el.setAttribute("name",this.classNames.EL),this.target){const t=document.querySelector(this.target);t&&(t.style.scrollBehavior="smooth",t.addEventListener("scroll",()=>{this.scrollContainer()}))}else window.addEventListener("scroll",()=>{this.scrollContainer()})}componentWillLoad(){this.initData()}componentWillRender(){this.el.setAttribute("current-item",this.currentItem.toString())}initData(){const t=[];this.items.map(s=>t.push(new g(s))),this.scrollspyItems=t,this.currentItem=0}clickHandler(t,s){const r=this.target?document.querySelector(this.target):document.querySelector("body");if(r){const e=r.querySelector(t.target);"scrollBehavior"in document.documentElement.style&&e&&(this.target?r.scrollTo(0,0===s?0:e.offsetTop):window.scrollTo(0,0===s?0:e.offsetTop))}return!1}watchObservable(){this.scrollspyItems.map((t,s)=>{const r=document.querySelector(t.target);r&&(r.classList.add(`${this.classNames.EL}${this.classNames.WATCHER}`),this._observable[s]=new d(r,(t,r)=>{!0===t&&(this.tmpcurrentItem[s]={index:s,intersectionRatio:c(r,"intersectionRatio")}),this._observable[s].disconnectObserver()},{threshold:.5}))})}render(){return this.scrollspyItems.length>0?s("nav",{class:[this.classNames.EL].join(" ")},this.scrollspyItems.map((t,r)=>{if(t.hasProp("id"))return s("a",{id:"menu_"+t.getProp("id"),onClick:()=>this.clickHandler(t,r),class:[`${this.classNames.EL}${this.classNames.ITEM}`,this.currentItem===r?`${this.classNames.EL}${this.classNames.ITEM}${this.classNames.ACTIVE}`:""].join(" ")},s("span",{innerHTML:t.getProp("text")}))})):s("nav",null)}get el(){return r(this)}static get watchers(){return{items:["watchItemsHandler"]}}};_.style='[name=scrollspy]{display:flex}[name=scrollspy] .scrollspy{position:relative;display:flex;align-content:center;align-items:flex-start;flex-direction:column;margin-left:16px}[name=scrollspy] .scrollspy:after{position:absolute;left:-16px;top:0;width:4px;height:32px;content:"";transition:top 300ms ease-in-out}[name=scrollspy] .scrollspy__item{height:32px;font-family:"Montserrat", sans-serif;font-size:14px;font-weight:400;line-height:32px;white-space:nowrap;vertical-align:middle;transition:color 300ms ease-in-out;cursor:pointer}[name=scrollspy] .scrollspy.scrollspy:after{background:#F76700}[name=scrollspy] .scrollspy .scrollspy__item{color:#5E5E5E}[name=scrollspy] .scrollspy .scrollspy__item.scrollspy__item--active{color:#F76700}[name=scrollspy][current-item="0"] .scrollspy:after{top:0px}[name=scrollspy][current-item="1"] .scrollspy:after{top:32px}[name=scrollspy][current-item="2"] .scrollspy:after{top:64px}[name=scrollspy][current-item="3"] .scrollspy:after{top:96px}[name=scrollspy][current-item="4"] .scrollspy:after{top:128px}[name=scrollspy][current-item="5"] .scrollspy:after{top:160px}[name=scrollspy][current-item="6"] .scrollspy:after{top:192px}[name=scrollspy][current-item="7"] .scrollspy:after{top:224px}[name=scrollspy][current-item="8"] .scrollspy:after{top:256px}[name=scrollspy][current-item="9"] .scrollspy:after{top:288px}[name=scrollspy][current-item="10"] .scrollspy:after{top:320px}[name=scrollspy][current-item="11"] .scrollspy:after{top:352px}[name=scrollspy][current-item="12"] .scrollspy:after{top:384px}[name=scrollspy][current-item="13"] .scrollspy:after{top:416px}[name=scrollspy][current-item="14"] .scrollspy:after{top:448px}[name=scrollspy][current-item="15"] .scrollspy:after{top:480px}[name=scrollspy][current-item="16"] .scrollspy:after{top:512px}[name=scrollspy][current-item="17"] .scrollspy:after{top:544px}[name=scrollspy][current-item="18"] .scrollspy:after{top:576px}[name=scrollspy][current-item="19"] .scrollspy:after{top:608px}[name=scrollspy][current-item="20"] .scrollspy:after{top:640px}[name=scrollspy][current-item="21"] .scrollspy:after{top:672px}[name=scrollspy][current-item="22"] .scrollspy:after{top:704px}[name=scrollspy][current-item="23"] .scrollspy:after{top:736px}[name=scrollspy][current-item="24"] .scrollspy:after{top:768px}[name=scrollspy][current-item="25"] .scrollspy:after{top:800px}[name=scrollspy][current-item="26"] .scrollspy:after{top:832px}[name=scrollspy][current-item="27"] .scrollspy:after{top:864px}[name=scrollspy][current-item="28"] .scrollspy:after{top:896px}[name=scrollspy][current-item="29"] .scrollspy:after{top:928px}[name=scrollspy][current-item="30"] .scrollspy:after{top:960px}[name=scrollspy][current-item="31"] .scrollspy:after{top:992px}[name=scrollspy][current-item="32"] .scrollspy:after{top:1024px}[name=scrollspy][current-item="33"] .scrollspy:after{top:1056px}[name=scrollspy][current-item="34"] .scrollspy:after{top:1088px}[name=scrollspy][current-item="35"] .scrollspy:after{top:1120px}[name=scrollspy][current-item="36"] .scrollspy:after{top:1152px}[name=scrollspy][current-item="37"] .scrollspy:after{top:1184px}[name=scrollspy][current-item="38"] .scrollspy:after{top:1216px}[name=scrollspy][current-item="39"] .scrollspy:after{top:1248px}[name=scrollspy][current-item="40"] .scrollspy:after{top:1280px}[name=scrollspy][current-item="41"] .scrollspy:after{top:1312px}[name=scrollspy][current-item="42"] .scrollspy:after{top:1344px}[name=scrollspy][current-item="43"] .scrollspy:after{top:1376px}[name=scrollspy][current-item="44"] .scrollspy:after{top:1408px}[name=scrollspy][current-item="45"] .scrollspy:after{top:1440px}[name=scrollspy][current-item="46"] .scrollspy:after{top:1472px}[name=scrollspy][current-item="47"] .scrollspy:after{top:1504px}[name=scrollspy][current-item="48"] .scrollspy:after{top:1536px}[name=scrollspy][current-item="49"] .scrollspy:after{top:1568px}[name=scrollspy][current-item="50"] .scrollspy:after{top:1600px}';export{_ as eds_scrollspy}